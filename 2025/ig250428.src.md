## Zoom H4essential 録音データを YouTube および m4a 形式に変換する手順(2トラック版)

### Zoom H4essential の録音データを MacBook Air にコピー

Zoom H4essential を MacBook Air に接続して録音データをコピーします

- Zoom H4essential を USB ケーブルで接続し、Finderで Zoom のドライブを開きます。
- 必要な .WAV ファイルをローカルにコピーします。

### フロート音源を CD 音源に変換

録音された音源（32bit floatなど）を、標準的なCD音質（16bit/44.1kHz）に変換し、音量正規化も行います。

```
ffmpeg -i 250429_125454_TrMic.WAV -af loudnorm -ar 44100 -sample_fmt s16 250429_125454_TrMic-loudnorm.wav
ffmpeg -i 250429_125454_Tr1.WAV -af loudnorm -ar 44100 -sample_fmt s16 250429_125454_Tr1-loudnorm.wav
```

※ loudnorm は音量を適正化するためのフィルターです。

### 必要に応じて複数ファイルを連結

複数の wav ファイルを1つにまとめます。filelist.txt をシェル芸で作成すると少し幸せです。

```
printf "file '%s'\n" 250429_125454_TrMic-loudnorm.wav 250429_134129_TrMic-loudnorm.wav > filelist.txt
ffmpeg -f concat -safe 0 -i filelist.txt -c copy 250429_125454_TrMic-concat.wav

printf "file '%s'\n" 250429_125454_Tr1-loudnorm.wav 250429_134129_Tr1-loudnorm.wav > filelist.txt
ffmpeg -f concat -safe 0 -i filelist.txt -c copy 250429_125454_Tr1-concat.wav
```

### wav ファイルを指定時間で切り詰め

録音データを必要な範囲にトリミングします。

```
ffmpeg -ss 470  -t 4645 -i 250429_125454_TrMic-concat.wav -c copy 250429_TrMic-part1.wav
ffmpeg -ss 470  -t 4645 -i 250429_125454_Tr1-concat.wav -c copy 250429_Tr1-part1.wav
```

### YouTube 形式に変換

静止画と音声を組み合わせて、YouTube向け動画ファイルに変換します。

```
ffmpeg -loop 1 -framerate 2 -i TazukuriBeethoven1.png -i 250429_TrMic-part1.wav -c:v libx264 -preset medium -tune stillimage -crf 18 -c:a copy -shortest -pix_fmt yuv420p 250429_TrMic-part1.mkv

ffmpeg -loop 1 -framerate 2 -i TazukuriBeethoven2.png -i 250429_Tr1-part1.wav -c:v libx264 -preset medium -tune stillimage -crf 18 -c:a copy -shortest -pix_fmt yuv420p 250429_Tr1-part1.mkv
```

### m4a ファイル形式に変換

取り回ししやすいファイルサイズにするため、m4a 形式に変換します。

```
ffmpeg -i 250429_TrMic-part1.wav -c:a aac -b:a 192k 250429_TrMic-part1.m4a
ffmpeg -i 250429_Tr1-part1.wav -c:a aac -b:a 192k 250429_Tr1-part1.m4a
```

### 関連する日記

- <@linkdiary date="2025-04-12" />
- <@linkdiary date="2025-04-19" />
- <@linkdiary date="2025-04-25" />
- <@linkdiary date="2025-04-26" />
- <@linkdiary date="2025-04-27" />
- <@linkdiary date="2025-05-03" />
- 
<@lastmodified date="2025-05-04"/>
