## Apple iPhone SE2 で録音したデータを YouTube にアップする手順メモ

### 録音データから必要部分の切り出し

- 録音データから必要な部分のみ切り出します。

```
ffmpeg -ss 4260  -t 175 -i 202504121544-Recording.m4a -c copy output.m4a
```

- この例だと、4260秒目から175秒間を `output.m4a` にコピーします。
- VLC などを利用して、開始・終了の時間を調べると作業しやすいです。

### ノイズ除去 (必要に応じて)

- 録音環境によってはノイズが入っている場合があります。
- macOS の場合は GarageBand を使ってノイズ除去するのが手軽です。
- GarageBand では WAV 形式で書き出すのが一般的なため、`output.m4a` は `output.wav` に変換して扱います。

### YouTube 形式に変換

- 最終的な録音データを YouTube 形式に変換します。
- 動画の背景として使う静止画（例：カバー画像や関係ある写真）を PNG 形式で用意しておきます。


```
ffmpeg -loop 1 -framerate 2 -i MozartK285.png -i output.wav -c:v libx264 -preset medium -tune stillimage -crf 18 -c:a copy -shortest -pix_fmt yuv420p 202504121544-Recording.mkv
```

- オプションの簡単説明

| オプション                        | 説明 |
|----------------------------------|------|
| `-loop 1`                        | 画像（MozartK285.png）を繰り返し表示（ループ）します。`1` は無限ループ。 |
| `-framerate 2`                   | フレームレートを2fpsに指定（静止画だから低くてOK）。 |
| `-i MozartK285.png`              | 入力ファイル（画像）。背景として使います。 |
| `-i output.wav`                  | 入力ファイル（音声）。BGMや録音データ。 |
| `-c:v libx264`                   | 動画コーデックとしてH.264を使う（YouTube向けに最適）。 |
| `-preset medium`                 | エンコードの速さと圧縮率のバランス設定。`medium`は標準。 |
| `-tune stillimage`              | 静止画に最適化されたエンコードチューニング。画質が向上します。 |
| `-crf 18`                        | 画質の設定。0（無圧縮）〜51（超圧縮）で、18は高画質。 |
| `-c:a copy`                      | 音声は再エンコードせずそのままコピー（劣化なし＆高速）。 |
| `-shortest`                      | 音声と画像のどちらか短い方に動画全体の長さを合わせる。通常、音声が終わったら動画も終わる。 |
| `-pix_fmt yuv420p`              | ピクセルフォーマットの指定。YouTubeやブラウザ再生に対応する一般的な形式。 |
| `202504121544-Recording.mkv`     | 出力ファイル名。拡張子`.mkv`はYouTube対応の動画形式。 |


### YouTube にアップロード

- 作成した動画ファイル（`.mkv`）を YouTube Studio からアップロードします。
- タイトルや説明欄を設定し、公開範囲（公開・限定公開・非公開）を選んでアップロード完了です。

<@lastmodified date="2025-04-12"/>
