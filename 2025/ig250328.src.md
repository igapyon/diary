## 音声データから会話テキストを抽出する方法 (whisper.cpp)

音声データから会話テキストをローカルPCで高品質に（無料で）抽出する方法として `whisper` を使用しました。好印象です。
私の macOS 環境の場合は whisper.cpp と ggml-large-v3.bin の使用が快適でした。

1. 音声データを 10分ごとに分割します（取り扱いやすい）

```
ffmpeg -i input.wav -f segment -segment_time 600 -c copy input_part_%03d.wav
```

2. whisper コマンドで ggml-large-v3.bin モデルを利用しながら音声データからテキストデータを抽出します。ここでは whisper.cpp を利用しました。

最初に clone して make します。

```
git clone https://github.com/ggerganov/whisper.cpp.git
cd whisper.cpp
make
```

モデル large-v3.bin をダウンロードします。

```
./models/download-ggml-model.sh "large-v3"
```

音声データから

```
./build/bin/whisper-cli -m models/ggml-large-v3.bin -f input_part_001.wav -l ja -otxt
```

有償ソフトやクラウドを利用せずに音声データからテキストデータを抽出できてちょっと嬉しいです。

なお、上記手順は、2025/06/07 にあらためて確認して更新した手順です。

<@lastmodified date="2025-06-05"/>
