## 音声データから会話テキストを抽出する方法 (whisper)

音声データから会話テキストをローカルPCで高品質に（無料で）抽出する方法として `whisper` を使用しました。好印象です。

macOS の場合は whisper.cpp と ggml-large-v3.bin を用いることによる実現が快適でした。

1. 音声データを 10分ごとに分割します（取り扱いやすい）

```
ffmpeg -i input.wav -f segment -segment_time 600 -c copy input_part_%03d.wav
```

2. whisper コマンドで ggml-large-v3.bin モデルを利用しながら音声データからテキストデータを抽出します。

ここでは whisper.cpp を利用しました。

```
./build/bin/whisper-cli -f input_part_000.wav -m models/ggml-large-v3.bin -l ja -t 8 > output_part_000.txt
```

私の環境では、whisper Python 版より、cpp版である whisper.cpp のほうがずっと高速に動作しました。この whisper.cpp はソースコードからビルドしました。

有償ソフトやクラウドを利用せずに音声データからテキストデータを抽出できてちょっと嬉しいです。

<@lastmodified date="2025-06-05"/>
