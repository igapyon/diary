## PlantUML を使用して UML図を作成する手順メモ

PlantUML を用いて UML 図を作成するための手順メモです。

### PlantUMLとは

[PlantUML](https://plantuml.com/ja/) は、プレーンテキストで UML 図を記述・生成できるツールです。  
シーケンス図、クラス図、ユースケース図、アクティビティ図、状態遷移図など、様々な UML 図をサポートしています。  
テキストベースで記述できるため、バージョン管理がしやすく便利です。

### PlantUMLの入手

以下の `wget` コマンドを使用して、PlantUML の JAR ファイルをダウンロードします。  
この例では、LGPL ライセンス下の **バージョン 1.2025.2** を取得しています：

```
wget https://github.com/plantuml/plantuml/releases/download/v1.2025.2/plantuml-lgpl-1.2025.2.jar
```

### PlantUML の実行方法

次のように `java -jar` コマンドで実行できます。ここでは、`.puml` という拡張子の入力ファイルを `.svg` に変換しています。

```
java -jar plantuml-lgpl-1.2025.2.jar -tsvg sample.puml
```

* `-tsvg` オプションにより、**SVG形式**のファイルが生成されます。
* 上記コマンドを実行すると、`sample.puml` に対して、**`sample.svg`** という名前の画像ファイルが出力されます。

### PlantUML 入力ファイル例

以下は、PlantUML で書かれたシーケンス図の例です：

sample.puml

```
@startuml
!theme sunlust
!$a  = 42
!$ab = "foo1"
!$cd = "foo2"
!$ef = $ab + $cd
!$foo = { "name": "John", "age" : 30 }
Alice -> Bob : $a
Alice -> Bob : $ab
Alice -> Bob : $cd
Alice -> Bob : $ef
Alice -> Bob : Do you know **$foo.name** ?
@enduml
```

#### 📝 説明：

* `!theme sunlust` は見た目のテーマを指定しています。私が気になるテーマには他に `bluegray` や `aws-orange` があります。
* `!$a`, `!$ab` などは **変数定義** です。
* `->` は **メッセージ送信**を表す構文です。
* `$foo.name` のように、構造体風のオブジェクトからフィールドを参照することも可能です。

<@lastmodified date="2025-05-20"/>
