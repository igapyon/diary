## Zoom H4essential で録音した32bit フロート形式を一般形式ファイルに変換

Zoom H4essential で 96Khz + 32bit float で録音したファイルを一般形式ファイルに変換するための手順。
ffmpeg シリーズを利用前提。

H4essential と USB 接続。ファイルを macos に転送。

転送後のファイルについて ffprobe コマンドで内容確認。

```
ffprobe -v error -show_format -show_streams 250419_183946_TrMic.WAV 
```

ffprobe の実行結果例

```
[STREAM]
index=0
codec_name=pcm_f32le
codec_long_name=PCM 32-bit floating point little-endian
profile=unknown
codec_type=audio
codec_tag_string=[3][0][0][0]
codec_tag=0x0003
sample_fmt=flt
sample_rate=96000
channels=2
channel_layout=unknown
bits_per_sample=32
```

次に 32bit float　をラウドネス調整しながら 16bit CD音質に変換

```
ffmpeg -i 250419_183946_TrMic.WAV -af loudnorm -ar 44100 -sample_fmt s16 250419_183946_TrMic-loudnorm.WAV
```

ffmpeg の実行結果例

```
[aist#0:0/pcm_f32le @ 0x7f99xxxxxxxx] Guessed Channel Layout: stereo
Input #0, wav, from '250419_183946_TrMic.WAV':
  Metadata:
    comment         : zTAKE=001 
                    : zSCENE=250419_191634 
                    : zTAPE= 
                    : zCIRCLED=FALSE 
                    : zTRK3=Tr1 
                    : zTRK4=Tr2 
                    : zNOTE= 
                    : 
    encoded_by      : ZOOM H4essential
    date            : 2025-04-19
    creation_time   : 18:39:46
    time_reference  : 6449856000
    coding_history  : A=PCM,F=96000,W=32,M=stereo,T=H4essential;VERSION=1.10;TRK=1;ONF=1;LNK=1;FDR=   0;PAN=CNTR;MID=XY;
  Duration: 00:36:48.00, bitrate: 6144 kb/s
  Stream #0:0: Audio: pcm_f32le ([3][0][0][0] / 0x0003), 96000 Hz, stereo, flt, 6144 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (pcm_f32le (native) -> pcm_s16le (native))
...
[out#0/wav @ 0x7f99xxxxxxxx] video:0KiB audio:380362KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.000056%
size=  380363KiB time=00:36:48.00 bitrate=1411.2kbits/s speed=16.3x
```


<@lastmodified date="2025-04-19"/>
