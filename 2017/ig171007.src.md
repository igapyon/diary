## [Sonatype][Maven] Java プロジェクトを新規に Maven Repos に投入

プロジェクトを新しく Maven Repos に登録しようとしています。

<@link value="https://issues.sonatype.org/browse/OSSRH-28009" />

Joel さんからの回答によると、私はすでに jp.igapyon で登録済みだから、Sonatype への登録作業に向けてはこの申請は不要であり既に実施可能状態とのことです。さて、これから試してみます。
(その後の Sonatype から Maven Repos への Sync については、別途申請が必要だったはず...)

Sonatype登録しようとして、Javadoc の記述が不足気味であることが判明しました。せっせと Javadoc を記述しました。

リリースそのものは、以下のコマンドで実施します。xxx

```sh
mvn release:prepare
mvn release:perform
```

Sonatype のステージングについては以下。

<@link value="https://oss.sonatype.org/content/groups/public/jp/igapyon/" />

使った手順。
* 内容が良ければ -SNAPSHOT 抜きで正式リリースします。
* 普段は1.5.3-SNAPSHOTのようなバージョン番号だが、リリースの場合のみ、 1.5.3のように「-SNAPSHOT」を除去してコミット＋PUSH します。
* mvn release:prepare します。
* pom.xml をローカル上のみ1.5.3-SNAPSHOTと手動変更します。（コミットしない）
* mvn release:perform します。
* 最後に git にコミット＋PUSHします。

## 動作確認

Sonatype 上のリポジトリでうまく動くことを、以下のように pom.xml を書き変えて確認します。

### pom.xml for Sonatype

```xml
    <repositories>
        <repository>
            <id>oss-sonatype</id>
            <name>oss-sonatype</name>
            <url>https://oss.sonatype.org/content/repositories/snapshots/</url>
            <snapshots>
                <enabled>true</enabled>
            </snapshots>
        </repository>
    </repositories>

    <dependencies>
        <dependency>
            <groupId>jp.igapyon.blanco.apex.parser</groupId>
            <artifactId>blancoApexParser</artifactId>
            <version>1.5.1-SNAPSHOT</version>
        </dependency>
    </dependencies>
```


## いつも忘れる settings.xml

これを忘れると Sonatype リリースにて認証エラーが発生します。

#### .m2/settings.xml

```xml
<settings>
  <servers>
    <server>
      <id>ossrh</id>
      <username>username-of-sonatypejira</username>
      <password>password-of-sonatypejira</password>
    </server>
  </servers>
</settings>
```

<@lastmodified date="2017-10-07"/>
