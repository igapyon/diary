2017-01-01 diary: Apache FreeMarker シンプルサンプル
=====================================================================================================
[![いがぴょん画像(小)](https://igapyon.github.io/diary/images/iga200306s.jpg "いがぴょん")](https://igapyon.github.io/diary/memo/memoigapyon.html) 日記形式でつづる [いがぴょん](https://igapyon.github.io/diary/memo/memoigapyon.html)コラム ウェブページです。

[target](https://igapyon.github.io/diary/2017/ig170101.html) 
/ [src](https://github.com/igapyon/diary/blob/gh-pages/2017/ig170101.html.src.md) 
/ [index](https://igapyon.github.io/diary/2017/index.html) 

## Apache FreeMarker シンプルサンプル

### FreeMarker で必要なライブラリ

読み込みのための pom.xml 記述は以下のようなものです。

```xml:pom.xml
		<dependency>
			<groupId>org.freemarker</groupId>
			<artifactId>freemarker</artifactId>
			<version>[2.3.25-incubating,3.0)</version>
		</dependency>
```

### Java ソースコード

テンプレートの提供および Java からの適用は以下のような手準になります。

```java
		final Configuration config = new Configuration(Configuration.VERSION_2_3_25);
		config.setDefaultEncoding("UTF-8");
		config.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);
		config.setLogTemplateExceptions(false);

		// set my custom template loader.
		config.setTemplateLoader(new TemplateLoader() {
			private long lastModified = System.currentTimeMillis();

			private static final String MY_TEMPLATE_STRING = "My name is ${user} desu.";

			@Override
			public Object findTemplateSource(final String name) throws IOException {
				System.out.println("TemplateName:" + name);
				return MY_TEMPLATE_STRING;
			}

			@Override
			public Reader getReader(final Object templateSource, final String encoding) throws IOException {
				return new StringReader(MY_TEMPLATE_STRING);
			}

			@Override
			public void closeTemplateSource(final Object templateSource) throws IOException {
				// do nothing.
			}

			@Override
			public long getLastModified(final Object templateSource) {
				return lastModified;
			}
		});

		final Map<String, String> templateData = new HashMap<String, String>();
		templateData.put("user", "Taro Yamada");

		final Template templateBase = config.getTemplate("basic");
		templateBase.process(templateData, new OutputStreamWriter(System.out));
```

## 2017年 あけまして おめでとう ございます

今年も、健康に１年が過ごせますように。


----------------------------------------------------------------------------------------------------

## この日記について
[いがぴょんについて](https://igapyon.github.io/diary/memo/memoigapyon.html) / [インデックスに戻る](https://igapyon.github.io/diary/idxall.html)
