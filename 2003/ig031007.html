<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<HEAD>
<TITLE>2003/10/07 日記: NTFS領域のアロケーションユニットサイズ(クラスタサイズ)のあるべき設定値とは？</TITLE>
<META name="DESCRIPTION" content="日曜日に箕面の滝に行きました。">
<META name="KEYWORDS" content="いがぴょんの日記v2,diary,igapyon">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 7.0.1.0 for Windows">
<META name="DATE" content="2010-09-27T20:42:47+09:00">
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META http-equiv="Content-Style-Type" content="text/css">
<LINK rel="INDEX" href="index.html">
<LINK rel="CONTENTS" href="index.html">
</HEAD>
<BODY bgcolor="#eeddcc"><TABLE border="0"><TBODY><TR>
  <TD valign="top">
    <A href="../memo/memoigapyon.html">
      <IMG src="../../image/iga200306s.jpg" border="0" ALT="いがぴょん画像(小) 2003/06">
    </A>
  </TD>
  <TD valign="top">
    <H2>2003/10/07 日記: NTFS領域のアロケーションユニットサイズ(クラスタサイズ)のあるべき設定値とは？</H2>
    <P>[いがぴょんの日記v2,diary,igapyon] 日曜日に箕面の滝に行きました。</P>
  </TD>
</TR></TBODY></TABLE>

<!-- adv -->
<CENTER>
<TABLE bgcolor="#ffff00" summary="adv">
  <TBODY>
    <TR>

      <TD align="center">広告: <A href="http://journal.mycom.co.jp/column/ide/091/">イマドキのIDE事情: Eclipseベースの統合翻訳環境「Benten」を使ってみよう</A> <FONT color="#ff0000" size="-1">09/27</FONT><BR>
        <FONT size="-1">たげぞうさんの手による Benten 紹介記事!</FONT></TD>

    </TR>
  </TBODY>
</TABLE>
</CENTER>
<!-- adv -->




<P> </P>

<DIV align="right">
<TABLE cellpadding="4">
  <TBODY>
    <TR bgcolor="#99ccff">
      <TD><A href="../idxall.html">インディックスページへ戻る</A></TD>
    </TR>
  </TBODY>
</TABLE>
</DIV>



<TABLE>
  <TBODY>
    <TR>
      <TD bgcolor="#ff9900" valign="top"><FONT color="#ffffff" size="+1"><STRONG>ビデオ録画データ保存用120GB HDDのNTFSの あるべきアロケーションユニットサイズ(クラスタサイズ)設定とは</STRONG></FONT></TD>
    </TR>
  </TBODY>
</TABLE>
<P>最近 私のマイブームは テレビのビデオ録画です。ビデオ録画って 録画データが
気安く ギガバイト級になります。そこで気が付いたのですが、ビデオ録画用パーティションの
NTFS アロケーションユニットサイズって、いったい いくらぐらいが妥当なのでしょう。例えば
120GBのHDDについて NTFSデフォルトのHDDアロケーションユニットサイズは4096バイトなのですが、これを最大サイズである
64Kバイトに変更したら どのようなメリットとデメリットがあるのでしょう？</P>
<P>というのも 巨大データファイルを NTFSでフォーマットされたHDDに格納していくと
ファイルサイズよりもずっと多くのディスク容量が消費されているようなのです。これは
残りHDD容量を確認すると 顕著に表れます。思うに 超巨大ファイルの場合 アロケーションユニットの位置情報そのものですら、結構な個数になり、これがHDD容量を消費しているようなのです。また、フラグメンテーションの面からも大きいアロケーションユニットサイズである方が有利であるように思えます。</P>
<P>いったい ギガバイト級の巨大ファイル格納を考えた場合、例えば 1GByteのファイルをNTFSに格納する場合、単なるデータ領域以外に
どの程度のレートで領域を消費するのでしょうか？ そもそも その点がわかっていない、ということがわかってきました。</P>
<P>冷静になって考えたら、何もこれは ビデオ録画データにとどまらず リレーショナルデータベースのデータ領域を格納するエリアにおいても
同様な判断が必要であるように、思えてきました。今まで気にしたことがなかったです。とはいえ、基本的に
固定サイズでアロケーションしたら それほどは影響無いのかしら？ それともあるのかしら？</P>
<P>この手の有識者の意見をお待ちします。『このホームページを見よ』などでもＯＫ＆大歓迎です。</P>
<P><FONT color="#ff0000">10/08追記</FONT> 下記のようなページを見つけました</P>
<UL>
  <LI>WindowsXP/2000 Magnum-Memo<BR>
  <A HREF="http://www.hey.ne.jp/~magnum/Super_Pai/Magnum-Memo.htm">http://www.hey.ne.jp/~magnum/Super_Pai/Magnum-Memo.htm</A>
</UL>
<P>ここから下記のようなページを引き当てる</P>
<UL>
  <LI>Default Cluster Size for FAT and NTFS<BR>
  [replace-herf:http://support.microsoft.com/default.aspx?scid=http://support.microsoft.com:80/support/kb/articles/q140/3/65.asp&amp;NoWebContent=1]<BR>
  NTFSだと いくらディスクサイズが大きくてもデフォルトのクラスタサイズは4096バイトに設定されるのですね。これはドライブ圧縮と関係があるのだそうです。で
  ドライブ圧縮と関係のなかったNT3.50以前は 例えば32GBを超えるドライブの場合
  クラスタサイズは64KBが適用されるのだそうな。、、、ということは この資料から読み解くに、ドライブ圧縮さへ考慮しなければ
  巨大HDDは アロケーションユニットサイズは64KBを設定した方がよさそうであるように読み取れます。
</UL>
<P>ただし あるバージョンのARCserveでは 4Kを超えるアロケーションユニットサイズをサポートしない、などの情報もあるので、単に大きい方が効率が良くても手が出せない状況もあるのかも知れません。</P>
<P>一方 Googleで適当に検索したら、アロケーションユニットサイズとして16Kという数字がちらほら見え隠れしました。NTFSのデフォルトサイズが4096バイトだから
それの4倍ということになります。少なくとも 単に 大きなHDDのアロケーションユニットサイズとして
4096というのは やはり 小さすぎるんでしょうかねぇ。</P>
<TABLE>
  <TBODY>
    <TR>
      <TD bgcolor="#ff9900" valign="top"><FONT color="#ffffff" size="+1"><STRONG>太秦映画村</STRONG></FONT></TD>
    </TR>
  </TBODY>
</TABLE>
<P>先週の土曜日 子どもと一緒に 太秦映画村に行きました。子どもは結構満足していました。(ただ
仮面ライダー vs 宮本武蔵 ショーは怖かった模様)</P>
<TABLE>
  <TBODY>
    <TR>
      <TD bgcolor="#ff9900" valign="top"><FONT color="#ffffff" size="+1"><STRONG>箕面の滝</STRONG></FONT></TD>
    </TR>
  </TBODY>
</TABLE>
<P>先の日曜日 箕面の滝に行きました。子どもたちと一緒に たくさん歩きました。和音君は
はじめて 箕面の滝往復を自力で歩いていました。大きくなったものです。</P>
<TABLE summary="mini title">
  <TBODY>
    <TR>
      <TD bgcolor="#ff9900" valign="top"><FONT color="#ffffff" size="+1"><STRONG>模様替え</STRONG></FONT></TD>
    </TR>
  </TBODY>
</TABLE>
<P>先の日曜日 自宅パソコンの配置模様替えしました。なんだか新しいパソコンを買ったのと同等の気分転換が出来ました。<BR>
というか普段から掃除をすることは大切だと、その時だけは思いました。</P>

<!-- Generated by JMdRdf (Java Midori Rdf) 1.7.1 Templete Processer Engine -->
<!--     source='ig031007.src.html' , result='ig031007.html' -->
<TABLE summary="mini title"><TBODY><TR><TD bgcolor="#44cc77" valign="top"><FONT color="#ffffff" size="+1"><STRONG>世間のニュースから <FONT SIZE="-1">(<A HREF="ig031007-news.xml">RSS</A>)</FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT></STRONG></FONT></TD></TR></TBODY></TABLE><UL><LI><A HREF="http://itpro.nikkeibp.co.jp/free/NT/NEWS/20031003/1/index.shtml">サン，PDF作成機能を備えた9800円のMS Office互換ソフトをバージョンアップ</A> <FONT size="-2"><A target="_blank" HREF="http://itpro.nikkeibp.co.jp/free/NT/NEWS/20031003/1/index.shtml">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>MS Officeとの互換性の水準に大変興味があります。PDF作成機能の標準装備っていうのはとても魅力的ですねっ。<LI><A HREF="http://www.zdnet.co.jp/news/0310/07/njbt_01.html">ソニー「PSX」は7万9800円から</A> <FONT size="-2"><A target="_blank" HREF="http://www.zdnet.co.jp/news/0310/07/njbt_01.html">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>PS2にHDD＆DVDレコーダー機能を付けて160GバイトHDDで\79,800.-なのだそうな。ゴーストリダクションも搭載だとか。これは売れそうな商品です…<LI><A HREF="http://www.iodata.jp/lib/product/g/911_winxp.htm">I-O DATA: GV-1394TV DigitalTV Recorder 1.12 (2003/10/06) リリース</A> <FONT size="-2"><A target="_blank" HREF="http://www.iodata.jp/lib/product/g/911_winxp.htm">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>これを適用したら、なんと、２個以上の予約が正常に予約録画できるようになる模様です。これは画期的。(今までのバージョンでは 私の環境では １個以上の予約録画が正常に実施できませんでした！！！) アイオーデータを「哀王」なんて訳す人がいます。私は GV-1394TV を利用するまでは そんなにアイオーデータの印象は悪くありませんでした…。GV-1394TVを利用して アイオーデータの印象はずんどこ低下しました。哀王の略称もうなずくことができました。でも今回のリビジョンアップで ほんの少し印象が改善しました。なんとこのリビジョンアップを適用したら ２個以上の予約録画が正常に終了するように思えているのですもの。<LI><A HREF="http://www.zdnet.co.jp/enterprise/0310/01/epn16.html">日本コンピュウェア、J2EEアプリケーション開発環境を発表</A> <FONT size="-2"><A target="_blank" HREF="http://www.zdnet.co.jp/enterprise/0310/01/epn16.html">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>私 このOptimalJというのを使って パイロットプログラム なるプロジェクトに参画しています。(それで東京出張が やたら多いのであった…)<LI><A HREF="http://japan.cnet.com/news/ent/story/0,2000047623,20061238,00.htm">Linuxはデスクトップにも普及するか？---ターボリナックス社長に聞く</A> <FONT size="-2"><A target="_blank" HREF="http://japan.cnet.com/news/ent/story/0,2000047623,20061238,00.htm">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>3980円から、という価格設定なのだそうな。<LI><A HREF="http://itpro.nikkeibp.co.jp/free/ITPro/OPINION/20030930/1/">産総研の実験に見るオープンソース・デスクトップの“可能性”</A> <FONT size="-2"><A target="_blank" HREF="http://itpro.nikkeibp.co.jp/free/ITPro/OPINION/20030930/1/">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>メールにはSylpheedを利用する、というのが目をひきました。(単にLinux用メーラーの主流が知りたいだけ…)<LI><A HREF="http://japan.linux.com/opensource/03/10/02/0955207.shtml">SGIからオープンソース・コミュニティへの公開書簡</A> <FONT size="-2"><A target="_blank" HREF="http://japan.linux.com/opensource/03/10/02/0955207.shtml">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>SGIがLinuxにコントリビュートしたソースファイルに関する公開書簡。また XSFはSystem Vの一部ではなく SGI独自のプロダクトであるとも主張しています。そりゃそうでしょうね。<LI><A HREF="http://itpro.nikkeibp.co.jp/free/ITPro/USNEWS/20031002/6/index.shtml">OpenOffice.orgがオープンソース版オフィス・スイート「OpenOffice.org 1.1」の最終版を公開</A> <FONT size="-2"><A target="_blank" HREF="http://itpro.nikkeibp.co.jp/free/ITPro/USNEWS/20031002/6/index.shtml">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>1.1系は これが最終版なのだそうな。ダウンロードして試すヒマは無し。<LI><A HREF="http://itpro.nikkeibp.co.jp/free/SI/NEWS/20031002/135243/index.shtml">「SCOが権利侵害と主張する部分はLinuxから取り除いた」と米SGI</A> <FONT size="-2"><A target="_blank" HREF="http://itpro.nikkeibp.co.jp/free/SI/NEWS/20031002/135243/index.shtml">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>記事のタイトルの通りの内容。XFSに関する件について言及している箇所も含まれる。<LI><A HREF="http://biztech.nikkeibp.co.jp/wcs/leaf/CID/onair/biztech/comp/269593">東大がiMacを選んだ理由/安東孝二助手に聞く</A> <FONT size="-2"><A target="_blank" HREF="http://biztech.nikkeibp.co.jp/wcs/leaf/CID/onair/biztech/comp/269593">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>ものすごい内容の記事です。妙に納得してしまいました。<LI><A HREF="http://japan.cnet.com/news/pers/story/0,2000047682,20061157,00.htm">.NETは本当にオープンスタンダードか</A> <FONT size="-2"><A target="_blank" HREF="http://japan.cnet.com/news/pers/story/0,2000047682,20061157,00.htm">(O)</A></FONT> <FONT COLOR="#ff0000" SIZE="-1">2003</FONT><BR>オープンスタンダードというからには、オープンでスタンダードでないといけないのでしょうね。特にオープンという面では シングルベンダではなくマルチベンダの状況になっていないと クローズドソースなだけあってオープンとは言い難いです。幸い .NET開発環境という意味では ボーランドからの製品も含め 幾つか出てきていますから、一応及第点かしら。でも 実行環境という面では まだ 私は マイクロソフト製.NET実行環境しか及第点と思っていないので、その点 オープンとは言い難いです…。</UL>
<HR>
<address><A HREF="../memo/memoigapyon.html">いがぴょんについて</A><BR>
Last modified: $Date: 2010/09/27 20:42:47 $</address>

</BODY>
</HTML>
