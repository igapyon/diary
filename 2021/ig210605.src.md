## [Oiyokan] YouTube: Getting Started with Oiyokan Initializr コンテンツ作成メモ

「Getting Started with Oiyokan Initializr (v1.1)」という YouTube コンテンツを作りました。

* [Getting Started with Oiyokan Initializr (v1.1)](https://youtu.be/_XFLH8dBbcU)

このときに使用した手順やキャプションデータなどをメモします。

### コンテンツ作成順序

映像内容が確定させ、先にナレーションを収録し、それに映像をあてる順序でコンテンツを作成しました。

### コンテンツ解像度

コンテンツ解像度は YouTube 720p を大前提に、PowerPoint, Windows OS 解像度ともに 1280 x 720 に設定のうえ収録しました。
(これの設定が妥当でない場合、出来上がりの映像がぼやけてしまう)

Adobe Premiere Pro で以下の設定を実施。

- 形式: H.264
- プリセット:YouTube 720p HD

### キャプションデータ

YouTube 上のおおよそのキャプションデータは以下のようになります。
(実際には YouTube の自動キャプションをスタート地点に作業)

```
はじめてみる Oiyokan Initializr。
この動画では、データベースのテーブルを REST API Server として公開するwebアプリを 約3分で生成する様子を紹介します。
生成及び実行には Java SDK 11 またはそれ以降と Apache Maven、そして JDBCドライバで接続可能なデータベースが必要です。
この動画では接続先データベースの例として MySQLのサキラサンプルを利用しています。

最初に github から Oiyokan Initializr をダウンロードします。
Release から、Latest Release または Release 1.1 を探してソースコードZIPリンクをクリックしてダウンロードします。
ダウンロードしたZIPファイルを、作業に向いた都合の良いディレクトリにソースコードを展開します。
次にコマンドプロンプトを開き、展開後のディレクトリに移動します。展開後のソースコード一式が見えることを確認してください。
Apache Mavenを利用して Oiyokan Initializrをビルド及び実行します。mvn package spring-boot:run で起動できます。
初回実行時には Maven リポジトリから必要なライブラリ一式のダウンロードがおこなわれるため暫く待つ必要があります。
しばらくすると Oiyokan Initializr の Webサーバが起動します。

それではいよいよ Oiyokan Initializr を利用していきます。
Webブラウザで Oiyokan Initializr のURLを開きます。デフォルトのポート番号は 8082 です。
Oiyokan Initializrを開くのに成功するとこのような画面が開きます。
INITIALIZR リンクをクリックすることにより これから生成するREST API Serverの情報を設定開始できます。
BASIC認証ダイアログが表示されたら、ユーザ名に admin、Password に passwd123 を入力します。

まず最初にデータベース接続情報を設定します。接続情報の設定には JDBCの基礎的な情報が必要になります。
MySQLボタンをクリックしてプリセットをロードして、データベース名、データベースのユーザー名、パスワードを入力します。
CONNECTION TEST ボタンをクリックしてデータベース接続情報の正しさを確認します。
接続確認に成功したら APPLY DATABASE SETTINGS ボタンをクリックします。

そして次に API Server として公開するテーブルを追加するために ADD ENTITY ボタンをクリックします。
画面上にテーブル名一覧が表示されるので、公開したいテーブルにチェックをつけます。ここでは Sakila サンプルのすべてのテーブルを選択してみましょう。
テーブルの選択が終わったら、APPLY ENTITY SELECTION ボタンをクリックします。

先ほど選択したテーブルが、エンティティとして一覧表示されます。
試しに、 actor エンティティの EDIT ENTITY ボタンをクリックして内容を確認してみます。

おのおののエンティティは 作成・更新・削除の オンオフを切り替えられるようになっています。
また、下のほうにはエンティティのプロパティ情報が一覧表示されます。
確認が終わったら APPLY ENTITY CHANGES をクリックします。

それでは設定した情報をもとに REST API Server を生成しましょう。GENERATE REST API SERVER ボタンをクリックします。
生成した REST API Server webアプリケーションがZIPファイルとしてダウンロードできます。

これで REST API Server として公開する webアプリの生成が完了しました。
CONTROL+C などを利用して Oiyokan Initializrを停止してください。

では次に 生成した REST API Server を実行してみましょう。
ダウンロードした生成後のZIPファイルを、作業に向いた都合の良いディレクトリにソースコードを展開します。
コマンドプロンプトを開き、展開後のディレクトリに移動します。展開後のソースコード一式が見えることを確認してください。
Apache Mavenを利用して 生成したREST API Serverをビルド及び実行します。mvn package sprig-boot:run で起動できます。
しばらくすると 生成した REST API Server が起動します。

Webブラウザで REST API Server のURLを開きます。デフォルトのポート番号は 8080 です。
生成した REST API Server を開くのに成功するとこのような画面が開きます。
OData v4 ROOT のリンクをクリックすることにより、REST API Server のルートURLが開きます。
このURLを GET method で呼び出すことにより、公開されているエンティティの一覧を確認できます。
またエンティティごとに GET/POST/PATCH/DELETE method を呼び出すことができます。

ここでは Webブラウザを利用して幾つかの GET method を呼び出してみることにします。
OData ROOT のパスに actor を付け加えることにより、actor テーブル内のレコード一覧を取得できます。
$top を用いて検索結果の表示件数を抑止できます。
$count により 検索結果の件数を取得できます。
$format により検索結果の表示フォーマットを変更できます。
これらは OData という標準仕様に基づいたクエリパラメータに該当します。

生成後の REST API Server をおおまかに確認が終わったので、REST API Server を停止して後片付けをしましょう。
コントロールシー などを利用して REST API Serverを停止してください。
生成した REST API Serverは、引き続き利用する場合を除き、後片付けの目的として削除します。
ZIPファイル、展開したファイルともに削除してください。

以上で、はじめてみる Oiyokan Initializr は終わりです。あっという間に REST API Server ができる様子が伝われば幸いです。お疲れ様でしたー。
```

### 結月ゆかり に渡したデータ

キャプションデータそのままだと、結月ゆかり さんが誤読する場合があり、回避のためにテキスト調整したあとの結果が以下です。

```
はじめてみる O伊予柑イニシャライザ。
この動画では、データベースのテーブルをレストエーピーアイサーバーとして公開するwebアプリを 約3分で生成する様子を紹介します。
生成及び実行には Java SDK イレブンまたはそれ以降と アパッチ銘文、そして JDBCドライバで接続可能なデータベースが必要です。
この動画では接続先データベースの例として MySQLのサキラサンプルを利用しています。

最初に ギットハブから O伊予柑イニシャライザをダウンロードします。
リリースから、レイテストリリース または リリース1.1 を探してソースコードZIPリンクをクリックしてダウンロードします。
ダウンロードしたZIPファイルを、作業に向いた都合の良いディレクトリにソースコードを展開します。
次にコマンドプロンプトを開き、展開後のディレクトリに移動します。展開後のソースコード一式が見えることを確認してください。
アパッチ銘文を利用して O伊予柑イニシャライザをビルド及び実行します。銘文, パッケージ, スプリングブート ランで起動できます。
初回実行時には 銘文リポジトリから必要なライブラリ一式のダウンロードがおこなわれるため暫く待つ必要があります。
しばらくすると O伊予柑イニシャライザのウェブサーバが起動します。

それではいよいよ O伊予柑イニシャライザを利用していきます。
ウェブブラウザで O伊予柑イニシャライザのURLを開きます。デフォルトのポート番号は ハチゼロハチニィ です。
O伊予柑イニシャライザを開くのに成功するとこのような画面が開きます。
イニシャライザ リンクをクリックすることにより これから生成するレストエーピーアイサーバの情報を設定開始できます。
ベーシック認証ダイアログが表示されたら、ユーザ名に Admin、パスワードに p, a, s, s, w, d, 1, 2, 3, を入力します。

まず最初にデータベース接続情報を設定します。接続情報の設定には JDBCの基礎的な情報が必要になります。
MySQLボタンをクリックしてプリセットをロードして、データベース名、データベースのユーザー名、パスワードを入力します。
コネクションテストボタンをクリックしてデータベース接続情報の正しさを確認します。
接続確認に成功したら アプライデータベースセッティングスボタンをクリックします。

そして次にエーピーアイサーバとして公開するテーブルを追加するために アドエンティティボタンをクリックします。
画面上にテーブル名一覧が表示されるので、公開したいテーブルにチェックをつけます。ここではサキラサンプルのすべてのテーブルを選択してみましょう。
テーブルの選択が終わったら、アプライエンティティセレクションボタンをクリックします。

先ほど選択したテーブルが、エンティティとして一覧表示されます。
試しに、 アクター エンティティの エディットエンティティボタンをクリックして内容を確認してみます。

おのおののエンティティは 作成・更新・削除の オンオフを切り替えられるようになっています。
また、下のほうにはエンティティのプロパティ情報が一覧表示されます。
確認が終わったら アプライエンティティチェインジズボタンをクリックします。

それでは設定した情報をもとに レストエーピーアイサーバ を生成しましょう。ジェネレートレストエーピーアイサーバボタンをクリックします。
生成した レストエーピーアイサーバ ウェブアプリケーションがZIPファイルとしてダウンロードできます。

これで レストエーピーアイサーバーとして公開するwebアプリの生成が完了しました。
コントロールシー などを利用して O伊予柑イニシャライザを停止してください。

では次に 生成したレストエーピーアイサーバを実行してみましょう。
ダウンロードした生成後のZIPファイルを、作業に向いた都合の良いディレクトリにソースコードを展開します。
コマンドプロンプトを開き、展開後のディレクトリに移動します。展開後のソースコード一式が見えることを確認してください。
アパッチ銘文を利用して 生成したレストエーピーアイサーバをビルド及び実行します。銘文, パッケージ, スプリングブート ランで起動できます。
しばらくすると 生成したレストエーピーアイサーバが起動します。

ウェブブラウザで レストエーピーアイサーバのURLを開きます。デフォルトのポート番号は ハチゼロハチゼロ です。
生成したレストエーピーアイサーバを開くのに成功するとこのような画面が開きます。
オーデータ部位フォールートのリンクをクリックすることにより、レストエーピーアイサーバのルートURLが開きます。
このURLをゲットメソッドで呼び出すことにより、公開されているエンティティの一覧を確認できます。またエンティティごとにゲット、ポスト、パッチ、デリートメソッドを呼び出すことができます。

ここではwebブラウザを利用して幾つかのゲットメソッドを呼び出してみることにします。
オーデータルートのパスに アクター を付け加えることにより、アクター テーブル内のレコード一覧を取得できます。
ダラートップ を用いて検索結果の表示件数を抑止できます。ダラーカウントにより 検索結果の件数を取得できます。
ダラーフォーマットにより検索結果の表示フォーマットを変更できます。これらはオーデータという標準仕様に基づいたクエリパラメータに該当します。

生成後の レストエーピーアイサーバ をおおまかに確認が終わったので、レストエーピーアイサーバー を停止して後片付けをしましょう。
コントロールシー などを利用して レストエーピーアイサーバを停止してください。
生成した レストエーピーアイサーバは、引き続き利用する場合を除き、後片付けの目的として削除します。
ZIPファイル、展開したファイルともに削除してください。

以上で、はじめてみる O伊予柑イニシャライザは終わりです。あっという間に レストエーピーアイサーバーができる様子が伝われば幸いです。お疲れ様でしたー。
```

<@lastmodified date="2021-06-06"/>
